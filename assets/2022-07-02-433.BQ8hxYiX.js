import{_ as u}from"./ValaxyMain.vue_vue_type_script_setup_true_lang.CefZrO8y.js";import"./chunks/pinia.DsHLo5tT.js";import{e as p,u as f,a as y}from"./chunks/vue-router.Ffbtoo0e.js";import{a7 as h,a8 as b,an as l,V as z,am as n,af as a,aj as s,Z as v}from"./framework.DZImrh0B.js";import"./app.CbS7z7wV.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.DOs4xXBl.js";/* empty css                    */import"./chunks/nprogress.B6x19dEb.js";import"./content.iwmwugc9.js";import"./router.-rV2tM5K.js";const k=p("/posts/2022-07-02-433",async i=>JSON.parse('{"title":"Lsky pro 图床 + 腾讯云 COS","description":"","frontmatter":{"title":"Lsky pro 图床 + 腾讯云 COS","date":"2022-07-02","updated":"2022-07-02","categories":["各种折腾","网站相关"],"tags":["图床","Lsky Pro","腾讯云COS","对象存储"]},"headers":[],"relativePath":"pages/posts/2022-07-02-433.md","lastUpdated":1757080456000}'),{lazy:(i,t)=>i.name===t.name}),R={__name:"2022-07-02-433",setup(i,{expose:t}){const{data:o}=k(),r=y(),m=f(),g=Object.assign(m.meta.frontmatter||{},o.value?.frontmatter||{});return r.currentRoute.value.data=o.value,v("valaxy:frontmatter",g),globalThis.$frontmatter=g,t({frontmatter:{title:"Lsky pro 图床 + 腾讯云 COS",date:"2022-07-02",updated:"2022-07-02",categories:["各种折腾","网站相关"],tags:["图床","Lsky Pro","腾讯云COS","对象存储"]}}),(e,c)=>{const d=u;return b(),h(d,{frontmatter:z(g)},{"main-content-md":l(()=>[...c[0]||(c[0]=[a("blockquote",null,[a("p",null,"许久未更新了，主要吧是上个学期比较忙，除了导师的项目就是在刷 leetcode 和背面经，Leetcode 虽然也写了一些题解，但 Leetcode 官方题解就非常详细，所以就没发了，这篇文章也是两个月前的存货了，之前准备着要写，结果准备好素材后给忘了")],-1),a("p",null,"我之前用的图床是用 chevereto 搭的，然后图片是存储在服务器本地的，然后最近呢又好久没更新了，就想更新一下图床，结果发现新版的 chevereto 移除了一堆功能，譬如批量上传、多语言支持（对，就是没中文版了）等等，这年头还有越更新功能越少，逼着免费版用户使用付费版。所以虽然 chevereto 的界面真的非常好看，但还是忍痛换了其他图床，最后我选择了国产的 Lsky pro，虽然首页看上去没 chevereto 那么好看，但很简洁，而且管理界面我觉得也不比 chevereto 差多少",-1),a("p",null,"然后呢，之前我都是存本地服务器上的，虽然我图片不多，其实放哪都行，但既然这次打算升级一下，就干脆全都升级了，把图片移到了腾讯云的对象存储 COS 上，至于什么是对象存储，这其实不重要，你只需知道这是专门用来存储像图片、视频、音频、文档之类非结构化数据的一种新型计算机数据存储体系就行了，它非常适合那种需要存储大量杂乱没有关系的数据，然后还不需要频繁删除的情况。",-1),a("p",null,"然后这边建议如果需求不大的话选择按量计费，不管是容量还是流量都是以 GB 为单位的，1GB/月最多也就几角钱，请求次数的话1万次也就几分钱，如果配合 CDN 使用的话，那就更便宜了。第一次用的话会送个 10G 的存储容量包。",-1),a("p",null,"这边就着重来讲怎么配置腾讯云 COS 以及怎么部署 Lsky pro",-1),a("h2",{id:"腾讯云-cos",tabindex:"-1"},[s("腾讯云 COS "),a("a",{class:"header-anchor",href:"#腾讯云-cos","aria-label":'Permalink to "腾讯云 COS"'},"​")],-1),a("p",null,"首先搜索对象存储，在对象存储的控制台选择创建存储桶",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c008a07f297.png",alt:"image-20220702165810289",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c008d5b8e26.png",alt:"image-20220702165903657",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"这边高级可选虽然好是好，但基本都会有额外的费用，没特殊需求也用不上",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c0090397ce0.png",alt:"image-20220702165949548",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"然后呢我们单独给图床配置一个子用户，搜索访问管理，然后在用户列表选择新建用户",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c009e15ddcc.png",alt:"image-20220702170331334",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"选择自定义创建",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c00a0e7fbc3.png",alt:"image-20220702170416464",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"用户名嘛就自己随便取，因为后面需要通过接口来管理图片，所以要开启编程访问",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c00a8e32e05.png",alt:"image-20220702170624088",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"下一步需要在策略里选上图床管理对象存储所需要的权限，可以在旁边的搜索框里搜 COS，可以把对象存储相关的搜索出来",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c00ac124d0a.png",alt:"image-20220702170715085",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"具体哪些策略官方文档上有说，照着勾选即可",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c00b3891ae5.png",alt:"image-20220702170914569",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"到此一个子用户就创建完了，这里的用户名和密匙都是之后需要用的，记得记一下",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c00c6dee949.png",alt:"image-20220702171423871",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"然后腾讯云这边基本配置的差不多了",-1),a("h2",{id:"宝塔部署图床",tabindex:"-1"},[s("宝塔部署图床 "),a("a",{class:"header-anchor",href:"#宝塔部署图床","aria-label":'Permalink to "宝塔部署图床"'},"​")],-1),a("p",null,[s("首先肯定是安装环境得配置好，应该不会有人特意为了图床去买个云服务器吧，我就默认不是第一次用宝塔建站了，安装环境这边自然就略过了，然后运行环境的要求同样参考"),a("a",{href:"https://docs.lsky.pro/docs/v2/quick-start/installation.html",target:"_blank",rel:"noreferrer"},"官方文档"),s("，php 需要安装 8.0 以上， mysql 则是需要 5.7 及以上，其余扩展稍后会讲")],-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c00dd000a1d.png",alt:"image-20220702172017912",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"环境配置好后就可以添加站点了",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c00d473c986.png",alt:"image-20220702171801205",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"然后就是把 github 上下载下来的源码，上传到选择的项目根目录并解压",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c00fc3b6214.png",alt:"image-20220702172837631",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"选择运行目录为 public",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c00fdd86867.png",alt:"image-20220702172903316",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"添加伪静态",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c0102ae411a.png",alt:"image-20220702173020815",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"然后访问站点的首页，它会检查你的运行环境，这个适时候你就可以根据上面缺少的扩展去安装扩展了",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c010932cb50.png",alt:"image-20220702173205136",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"在软件商店的 php 设置里可以选择安装扩展",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c011271c5ed.png",alt:"image-20220702173433041",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"然后在禁用函数里删除需要的函数",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c011679da7b.png",alt:"image-20220702173537618",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"全部完成这一切，再访问首页就可以下一步的安装了",-1),a("p",null,"这边数据库就填写建站时所创建的那个",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c01196eb5d5.png",alt:"image-20220702173624940",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"然后就可以正常使用这个图床了",-1),a("h2",{id:"图床配置",tabindex:"-1"},[s("图床配置 "),a("a",{class:"header-anchor",href:"#图床配置","aria-label":'Permalink to "图床配置"'},"​")],-1),a("p",null,"不过现在呢，默认还是本地存储，如果需要使用腾讯云就还需要配置一些东西，登录管理员账号后，进入设置页面，创建一个新的储存策略",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c0127300d0f.png",alt:"image-20220702174004944",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"访问域名在存储桶的概览页面里，你需要点击你创建的那个存储桶进去才能看到，存储桶名称也是在这个页面",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c012ba7bcbe.png",alt:"image-20220702174116420",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"然后有个关键是你要选择角色组，这个我之前就没选，结果发现还是默认的储存策略",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c01364d86d0.png",alt:"image-20220702174406884",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"然后我们就可以正常使用这个策略了，我为了方便，直接把本地储存的策略删除了",-1),a("p",null,"另外需要注意的一点是 Lsky Pro 不支持选择对象存储的存储路径，但我们是可以修改的上传的路径命名规则的，因此我们可以在角色组的配置里，通过修改路径命名规则来像本地储存策略一样自由选择存储的目录了，比如我就上传到了对象存储的 /images 目录下，而不是都上传到根目录",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2022/07/02/62c015be0e350.png",alt:"image-20220702175407657",loading:"lazy",decoding:"async",class:"lazy"})],-1)])]),"main-header":l(()=>[n(e.$slots,"main-header")]),"main-header-after":l(()=>[n(e.$slots,"main-header-after")]),"main-nav":l(()=>[n(e.$slots,"main-nav")]),"main-content-before":l(()=>[n(e.$slots,"main-content-before")]),"main-content":l(()=>[n(e.$slots,"main-content")]),"main-content-after":l(()=>[n(e.$slots,"main-content-after")]),"main-nav-before":l(()=>[n(e.$slots,"main-nav-before")]),"main-nav-after":l(()=>[n(e.$slots,"main-nav-after")]),comment:l(()=>[n(e.$slots,"comment")]),footer:l(()=>[n(e.$slots,"footer")]),aside:l(()=>[n(e.$slots,"aside")]),"aside-custom":l(()=>[n(e.$slots,"aside-custom")]),default:l(()=>[n(e.$slots,"default")]),_:3},8,["frontmatter"])}}};export{R as default,k as usePageData};
