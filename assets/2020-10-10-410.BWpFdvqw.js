import{_ as p}from"./ValaxyMain.vue_vue_type_script_setup_true_lang.CefZrO8y.js";import"./chunks/pinia.DsHLo5tT.js";import{e as c,u as f,a as h}from"./chunks/vue-router.Ffbtoo0e.js";import{a7 as y,a8 as b,an as e,V as $,am as n,af as a,aj as r,Z as v}from"./framework.DZImrh0B.js";import"./app.CbS7z7wV.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.DOs4xXBl.js";/* empty css                    */import"./chunks/nprogress.B6x19dEb.js";import"./content.iwmwugc9.js";import"./router.-rV2tM5K.js";const z=c("/posts/2020-10-10-410",async o=>JSON.parse('{"title":"宝塔数据迁移","description":"","frontmatter":{"title":"宝塔数据迁移","date":"2020-10-10","updated":"2021-03-02","categories":["各种折腾","网站相关"],"tags":["宝塔"]},"headers":[],"relativePath":"pages/posts/2020-10-10-410.md","lastUpdated":1757080456000}'),{lazy:(o,s)=>o.name===s.name}),O={__name:"2020-10-10-410",setup(o,{expose:s}){const{data:i}=z(),d=h(),u=f(),l=Object.assign(u.meta.frontmatter||{},i.value?.frontmatter||{});return d.currentRoute.value.data=i.value,v("valaxy:frontmatter",l),globalThis.$frontmatter=l,s({frontmatter:{title:"宝塔数据迁移",date:"2020-10-10",updated:"2021-03-02",categories:["各种折腾","网站相关"],tags:["宝塔"]}}),(t,m)=>{const g=p;return b(),y(g,{frontmatter:$(l)},{"main-content-md":e(()=>[...m[0]||(m[0]=[a("p",null,"[info]开学后的第一次更新，好像欠了好久了。。。不过反正也没人看，拖更也问题不大[/info]",-1),a("h2",{id:"不同服务器之间的迁移",tabindex:"-1"},[r("不同服务器之间的迁移 "),a("a",{class:"header-anchor",href:"#不同服务器之间的迁移","aria-label":'Permalink to "不同服务器之间的迁移"'},"​")],-1),a("p",null,"首先，如果你是一台服务器迁移到另一台服务器，那么挺简单的，宝塔自带就有一键数据迁移，照着官方的教程即可，不过可能会因为各种原因失败，那就只能用我后面的方法了",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2020/10/migration1-1.png",alt:"",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("h2",{id:"同一服务器的迁移",tabindex:"-1"},[r("同一服务器的迁移 "),a("a",{class:"header-anchor",href:"#同一服务器的迁移","aria-label":'Permalink to "同一服务器的迁移"'},"​")],-1),a("p",null,"我这次就是在同一个服务器上迁移，因为更换系统镜像无法保留原来的数据，又没办法使用上面的一键迁移，那就只能采用最粗暴的方法了，备份再还原。",-1),a("p",null,"如果因为各种原因需要清除原来服务器的数据的话，那么可以用这种方法来完成数据的迁移",-1),a("p",null,"首先备份网站数据，并下载下来",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2020/10/migration2-1.png",alt:"",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"然后同样方法的备份数据库数据",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2020/10/migration3-1.png",alt:"",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("p",null,"如果有ftp的话，应该也是同样的操作，不过我这没有，就不演示了",-1),a("p",null,"然后后面的事情就简单了，待服务器重置或者更换系统镜像后，重新安装宝塔面板这里要注意，新的宝塔面板安装运行环境时，最好保持和原有的一样，包括Nginx等框架以及php版本之类的，至少也要比原来的版本高，否则可能会有问题",-1),a("p",null,"最后只需要添加站点，然后将网站备份的压缩包在网站根目录解压即可",-1),a("p",null,"数据库这边也一样，添加完之后，在这边导入原来的数据",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2020/10/migration4-1.png",alt:"",loading:"lazy",decoding:"async",class:"lazy"})],-1),a("h2",{id:"跨系统迁移的问题",tabindex:"-1"},[r("跨系统迁移的问题 "),a("a",{class:"header-anchor",href:"#跨系统迁移的问题","aria-label":'Permalink to "跨系统迁移的问题"'},"​")],-1),a("p",null,"如果你是windows和Linux之间迁移的话，可能会出现中文文件名乱码的问题，这是因为Windows中文编码默认是GBK而Linux和Mac都是UTF-8，最好的解决方法自然是养成好习惯，不用中文的文件名或路径。",-1),a("p",null,"如果已经有很多中文文件名但又不想改的话，那么有两个方法，第一个将原有的压缩包用支持选择编码方式的压缩软件解压，第二个方法就是重新压缩成rar等其他压缩格式（貌似这是zip格式的一个bug）再传输。",-1),a("p",null,"最后，说一句，Linux服务器真的流畅，之前Windows的服务器，就这么一个网站，负载和cpu已经占了一半多了。。。",-1),a("figure",null,[a("img",{src:"https://img.blueflame.org.cn/images/2020/10/migration5-1.png",alt:"",loading:"lazy",decoding:"async",class:"lazy"})],-1)])]),"main-header":e(()=>[n(t.$slots,"main-header")]),"main-header-after":e(()=>[n(t.$slots,"main-header-after")]),"main-nav":e(()=>[n(t.$slots,"main-nav")]),"main-content-before":e(()=>[n(t.$slots,"main-content-before")]),"main-content":e(()=>[n(t.$slots,"main-content")]),"main-content-after":e(()=>[n(t.$slots,"main-content-after")]),"main-nav-before":e(()=>[n(t.$slots,"main-nav-before")]),"main-nav-after":e(()=>[n(t.$slots,"main-nav-after")]),comment:e(()=>[n(t.$slots,"comment")]),footer:e(()=>[n(t.$slots,"footer")]),aside:e(()=>[n(t.$slots,"aside")]),"aside-custom":e(()=>[n(t.$slots,"aside-custom")]),default:e(()=>[n(t.$slots,"default")]),_:3},8,["frontmatter"])}}};export{O as default,z as usePageData};
