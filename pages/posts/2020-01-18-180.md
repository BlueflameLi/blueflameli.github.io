---
title: 变形课（HDOJ 1181）
date: 2020-01-18
updated: 2021-03-07
categories:
  - 程序人生
  - C/C++
  - 搜索
tags:
  - C++
  - DFS
---

## Problem Description 

呃......变形课上Harry碰到了一点小麻烦,因为他并不像Hermione那样能够记住所有的咒语而随意的将一个棒球变成刺猬什么的,但是他发现了变形咒语的一个统一规律:如果咒语是以a开头b结尾的一个单词,那么它的作用就恰好是使A物体变成B物体.
Harry已经将他所会的所有咒语都列成了一个表,他想让你帮忙计算一下他是否能完成老师的作业,将一个B(ball)变成一个M(Mouse),你知道,如果他自己不能完成的话,他就只好向Hermione请教,并且被迫听一大堆好好学习的道理.

## Input 

测试数据有多组。每组有多行，每行一个单词,仅包括小写字母,是Harry所会的所有咒语.数字0表示一组输入结束. 

## Output 

如果Harry可以完成他的作业,就输出"Yes.",否则就输出"No."(不要忽略了句号

```
so
soon
river
goes
them
got
moon
begin
big
0
```

## Sample Output 

```
Yes.

Harry 可以念这个咒语:"big-got-them".
```

## My Code

```cpp
#include <iostream>
#include <queue>
#include <stdio.h>
#include <string.h>
 
using namespace std;
 
string s;			//存字符
bool a[30][30];		//a[i][j]表示i到j有路
bool v[30];			//标记是否访问过
bool flag;			//标记是否到终点
 
void dfs(int p)
{
	if (p == 'm' - 'a')
    {
		flag = 1;	//到终点了
		return;
    }
	for (int i = 0; i < 26; i++)
    {
		if (!v[i] && a[p][i])	//没访问过且刚好有路
        {
			v[i] = 1;
			dfs(i);				//访问一下
			if (flag)
				return;
        }
    }
}
 
int main()
{
    while(cin>>s)
    {
        memset(a,0,sizeof(a));
        memset(v,0,sizeof(v));
        a[s[0]-'a'][s[s.length()-1]-'a']=1;			//我们只管开头和结尾
        while(cin>>s&&s[0]!='0')
            a[s[0]-'a'][s[s.length()-1]-'a']=1;
		flag=0;
        v[1]=1;										//起点别忘标记
        dfs(1);
		if (flag)
			cout << "Yes." << endl;
        else
			cout << "No." << endl;
    }
    return 0;
}
```
